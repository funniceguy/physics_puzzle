(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const m=50,I=100,l="https://raw.githubusercontent.com/twitter/twemoji/master/assets/72x72/",d=[{radius:12,score:10,img:l+"1f352.png"},{radius:18,score:20,img:l+"1f353.png"},{radius:24,score:40,img:l+"1f347.png"},{radius:30,score:80,img:l+"1f34a.png"},{radius:38,score:160,img:l+"1f34b.png"},{radius:46,score:320,img:l+"1f348.png"},{radius:54,score:640,img:l+"1f34d.png"},{radius:64,score:1280,img:l+"1f351.png"},{radius:76,score:2560,img:l+"1f34f.png"},{radius:88,score:5120,img:l+"1f34e.png"},{radius:104,score:10240,img:l+"1f349.png"}],p={FRICTION:.3,RESTITUTION:.2,DENSITY:.001},f={RESTITUTION_PER_LEVEL:.08,FRICTION_PER_LEVEL:-.03,EXPLOSION_PER_LEVEL:.05},E=.08,C=[0,3e3,8e3,15e3,25e3,4e4,6e4,85e3,115e3,15e4],M=400;class S{constructor(t){this.Engine=Matter.Engine,this.Render=Matter.Render,this.Runner=Matter.Runner,this.Composite=Matter.Composite,this.Bodies=Matter.Bodies,this.Events=Matter.Events,this.engine=this.Engine.create(),this.world=this.engine.world;const e=document.getElementById(t),i=e.parentElement,s=i.clientWidth,n=i.clientHeight;this.render=this.Render.create({canvas:e,engine:this.engine,options:{width:s,height:n,wireframes:!1,background:"#2a2a2a"}}),this.gameWidth=s,this.gameHeight=n,this.createBoundaries(),this.Render.run(this.render),this.runner=this.Runner.create(),this.Runner.run(this.runner,this.engine)}createBoundaries(){const t=this.Bodies.rectangle(this.gameWidth/2,this.gameHeight+m/2,this.gameWidth,m,{isStatic:!0,render:{visible:!1}}),e=this.Bodies.rectangle(-m/2,this.gameHeight/2,m,this.gameHeight*2,{isStatic:!0,render:{visible:!1}}),i=this.Bodies.rectangle(this.gameWidth+m/2,this.gameHeight/2,m,this.gameHeight*2,{isStatic:!0,render:{visible:!1}});this.Composite.add(this.world,[t,e,i])}addBody(t){this.Composite.add(this.world,t)}removeBody(t){this.Composite.remove(this.world,t)}}class y{static create(t,e,i){const s=d[i],n=s.radius,a=Matter.Bodies.circle(t,e,n,{restitution:p.RESTITUTION,friction:p.FRICTION,density:p.DENSITY,render:{sprite:{texture:s.img,xScale:n*2/72,yScale:n*2/72}},label:"circle"});return a.gameData={level:i,hasMerged:!1},a}}class T{constructor(){this.scoreElement=document.getElementById("score"),this.targetScoreElement=document.getElementById("target-score"),this.levelElement=document.getElementById("level"),this.nextCircleElement=document.getElementById("next-circle"),this.scoreIcon=document.getElementById("score-icon"),this.resultScreen=document.getElementById("result-screen"),this.resultTitle=document.getElementById("result-title"),this.resultScore=document.getElementById("result-score"),this.resultButton=document.getElementById("result-button"),this.effectsContainer=document.getElementById("effects-container"),this.btnRemove=document.getElementById("btn-remove"),this.btnUpgrade=document.getElementById("btn-upgrade"),this.btnVibration=document.getElementById("btn-vibration"),this.itemButtons={remove:this.btnRemove,upgrade:this.btnUpgrade,vibration:this.btnVibration},this.currentDisplayedScore=0,this.targetScore=0,this.scoreAnimationId=null}updateScore(t,e){this.targetScore=t,this.scoreAnimationId||this.animateScore();const i=C[e]||"MAX";this.targetScoreElement.textContent=i}animateScore(){if(this.currentDisplayedScore<this.targetScore){const t=this.targetScore-this.currentDisplayedScore,e=Math.ceil(t/10);this.currentDisplayedScore+=e,this.scoreElement.textContent=this.currentDisplayedScore,this.scoreAnimationId=requestAnimationFrame(()=>this.animateScore())}else this.currentDisplayedScore=this.targetScore,this.scoreElement.textContent=this.currentDisplayedScore,this.scoreAnimationId=null}updateLevel(t){this.levelElement.textContent=t}updateNextCircle(t){const e=d[t];this.nextCircleElement.innerHTML="";const i=document.createElement("img");i.src=e.img,i.style.width="100%",i.style.height="100%",i.style.objectFit="contain",this.nextCircleElement.appendChild(i)}showResult(t,e){this.resultScreen.style.display="flex",this.resultTitle.textContent=e?"MISSION COMPLETE!":"GAME OVER",this.resultScore.textContent=`Final Score: ${t}`,this.resultTitle.style.color=e?"#00FF00":"#FF0000",this.resultButton.textContent="Play Again",this.resultButton.onclick=()=>location.reload()}showMissionComplete(t,e,i,s){this.resultScreen.style.display="flex",this.resultTitle.textContent=`LEVEL ${t} CLEARED!`,this.resultTitle.style.color="#00FFFF";const n={remove:"üóëÔ∏è",upgrade:"‚¨ÜÔ∏è",vibration:"üì≥"},a={remove:"Remove",upgrade:"Upgrade",vibration:"Vibration"};this.resultScore.innerHTML=`Current Score: ${e}<br><br>üéÅ Acquired: ${n[i]} ${a[i]}`,this.resultButton.textContent="Next Level",this.resultButton.onclick=()=>{this.resultScreen.style.display="none",s()}}toggleItemActive(t,e){Object.values(this.itemButtons).forEach(i=>i.classList.remove("active")),e&&this.itemButtons[t]&&this.itemButtons[t].classList.add("active")}setupItemListeners(t){this.btnRemove.onclick=()=>t("remove"),this.btnUpgrade.onclick=()=>t("upgrade"),this.btnVibration.onclick=()=>t("vibration")}updateItemCount(t,e){const i=this.itemButtons[t];if(!i)return;let s=i.querySelector(".item-count");s||(s=document.createElement("span"),s.className="item-count",i.appendChild(s)),s.textContent=e,e<=0?i.classList.add("disabled"):i.classList.remove("disabled")}updateAllItemCounts(t){this.updateItemCount("remove",t.remove),this.updateItemCount("upgrade",t.upgrade),this.updateItemCount("vibration",t.vibration)}spawnMergeEffect(t,e,i){const s=this.scoreIcon.getBoundingClientRect(),n=document.getElementById("game-container").getBoundingClientRect(),a=s.left-n.left+s.width/2,c=s.top-n.top+s.height/2;for(let r=0;r<8;r++){const o=document.createElement("div");o.className="particle star",o.textContent="‚≠ê",o.style.left=t+(Math.random()*60-30)+"px",o.style.top=e+(Math.random()*60-30)+"px";const u=o.animate([{transform:"scale(0.5) rotate(0deg)",opacity:1,left:o.style.left,top:o.style.top},{transform:"scale(0.2) rotate(360deg)",opacity:0,left:a+"px",top:c+"px"}],{duration:800+Math.random()*400,easing:"ease-in",fill:"forwards"});this.effectsContainer.appendChild(o),u.onfinish=()=>{o.remove(),this.triggerScoreFlash()}}this.spawnExplosionParticles(t,e)}spawnExplosionParticles(t,e){const i=["üí•","‚ú®","üí´","‚≠ê"];for(let s=0;s<12;s++){const n=document.createElement("div");n.className="particle explosion",n.textContent=i[Math.floor(Math.random()*i.length)],n.style.left=t+"px",n.style.top=e+"px";const a=Math.PI*2*s/12,c=80+Math.random()*40,r=t+Math.cos(a)*c,o=e+Math.sin(a)*c,u=n.animate([{transform:"translate(0, 0) scale(1) rotate(0deg)",opacity:1},{transform:`translate(${r-t}px, ${o-e}px) scale(0) rotate(${Math.random()*720}deg)`,opacity:0}],{duration:600+Math.random()*400,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"});this.effectsContainer.appendChild(n),u.onfinish=()=>n.remove()}}spawnBounceEffect(t,e){for(let i=0;i<3;i++){const s=document.createElement("div");s.className="particle puff",s.textContent="üí®",s.style.left=t+(Math.random()*20-10)+"px",s.style.top=e+(Math.random()*20-10)+"px";const n=s.animate([{transform:"scale(0.3)",opacity:.6},{transform:"scale(1.5)",opacity:0}],{duration:300,easing:"ease-out"});this.effectsContainer.appendChild(s),n.onfinish=()=>s.remove()}}spawnItemEffect(t,e,i){const s={remove:"üóëÔ∏è",upgrade:"‚¨ÜÔ∏è",vibration:"üì≥"};for(let c=0;c<10;c++){const r=document.createElement("div");r.className="particle sparkle",r.textContent="‚ú®",r.style.left=t+(Math.random()*80-40)+"px",r.style.top=e+(Math.random()*80-40)+"px";const o=r.animate([{transform:"scale(0) rotate(0deg)",opacity:1},{transform:`scale(1.5) rotate(${Math.random()*360}deg)`,opacity:0}],{duration:500+Math.random()*300,easing:"ease-out"});this.effectsContainer.appendChild(r),o.onfinish=()=>r.remove()}const n=document.createElement("div");n.className="particle item-icon",n.textContent=s[i],n.style.left=t+"px",n.style.top=e+"px";const a=n.animate([{transform:"scale(2)",opacity:1},{transform:"scale(0)",opacity:0}],{duration:600,easing:"ease-out"});this.effectsContainer.appendChild(n),a.onfinish=()=>n.remove()}spawnLevelCompleteEffect(){const t=["üéä","üéâ","‚ú®","‚≠ê","üåü"];for(let e=0;e<30;e++)setTimeout(()=>{const i=document.createElement("div");i.className="particle confetti",i.textContent=t[Math.floor(Math.random()*t.length)],i.style.left=Math.random()*100+"%",i.style.top="-20px";const s=i.animate([{transform:"translateY(0) rotate(0deg)",opacity:1},{transform:`translateY(${window.innerHeight}px) rotate(${Math.random()*720}deg)`,opacity:.5}],{duration:2e3+Math.random()*1e3,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"});document.body.appendChild(i),s.onfinish=()=>i.remove()},e*50)}triggerScoreFlash(){this.scoreIcon.classList.remove("flash"),this.scoreIcon.offsetWidth,this.scoreIcon.classList.add("flash")}}class L{constructor(){this.audioContext=null,this.masterGain=null,this.bgmGain=null,this.sfxGain=null,this.isMuted=!1,this.volume=.7,this.bgmSource=null,this.isInitialized=!1,this.loadSettings()}async init(){if(!this.isInitialized)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.audioContext.createGain(),this.bgmGain=this.audioContext.createGain(),this.sfxGain=this.audioContext.createGain(),this.bgmGain.connect(this.masterGain),this.sfxGain.connect(this.masterGain),this.masterGain.connect(this.audioContext.destination),this.masterGain.gain.value=this.isMuted?0:this.volume,this.bgmGain.gain.value=.3,this.sfxGain.gain.value=.5,this.isInitialized=!0,this.playBGM()}catch(t){console.warn("Audio initialization failed:",t)}}playBGM(){if(!this.isInitialized||this.bgmSource)return;const t=()=>{if(!this.isInitialized)return;const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.bgmGain),e.type="sine",e.frequency.setValueAtTime(220,this.audioContext.currentTime),e.frequency.exponentialRampToValueAtTime(330,this.audioContext.currentTime+4),e.frequency.exponentialRampToValueAtTime(220,this.audioContext.currentTime+8),i.gain.setValueAtTime(0,this.audioContext.currentTime),i.gain.linearRampToValueAtTime(.1,this.audioContext.currentTime+.5),i.gain.setValueAtTime(.1,this.audioContext.currentTime+7.5),i.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+8),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+8),e.onended=()=>{setTimeout(t,100)},this.bgmSource=e};t()}play(t){if(!this.isInitialized){this.init();return}const e=this.audioContext.currentTime;switch(t){case"drop":this.playDrop(e);break;case"bounce":this.playBounce(e);break;case"merge":this.playMerge(e);break;case"score":this.playScore(e);break;case"itemUse":this.playItemUse(e);break;case"levelComplete":this.playLevelComplete(e);break;case"gameOver":this.playGameOver(e);break}}playDrop(t){const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.sfxGain),e.type="sine",e.frequency.setValueAtTime(200,t),e.frequency.exponentialRampToValueAtTime(50,t+.1),i.gain.setValueAtTime(.3,t),i.gain.exponentialRampToValueAtTime(.01,t+.1),e.start(t),e.stop(t+.1)}playBounce(t){const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.sfxGain),e.type="square",e.frequency.setValueAtTime(300,t),e.frequency.exponentialRampToValueAtTime(150,t+.05),i.gain.setValueAtTime(.2,t),i.gain.exponentialRampToValueAtTime(.01,t+.05),e.start(t),e.stop(t+.05)}playMerge(t){[0,.1,.2].forEach((e,i)=>{const s=this.audioContext.createOscillator(),n=this.audioContext.createGain();s.connect(n),n.connect(this.sfxGain),s.type="sine";const a=[523.25,659.25,783.99][i];s.frequency.setValueAtTime(a,t+e),n.gain.setValueAtTime(.3,t+e),n.gain.exponentialRampToValueAtTime(.01,t+e+.5),s.start(t+e),s.stop(t+e+.5)})}playScore(t){const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.sfxGain),e.type="sine",e.frequency.setValueAtTime(800,t),e.frequency.exponentialRampToValueAtTime(1200,t+.1),i.gain.setValueAtTime(.2,t),i.gain.exponentialRampToValueAtTime(.01,t+.1),e.start(t),e.stop(t+.1)}playItemUse(t){const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.sfxGain),e.type="sawtooth",e.frequency.setValueAtTime(100,t),e.frequency.exponentialRampToValueAtTime(500,t+.2),i.gain.setValueAtTime(.3,t),i.gain.exponentialRampToValueAtTime(.01,t+.2),e.start(t),e.stop(t+.2)}playLevelComplete(t){[523.25,659.25,783.99,1046.5].forEach((i,s)=>{const n=this.audioContext.createOscillator(),a=this.audioContext.createGain();n.connect(a),a.connect(this.sfxGain),n.type="triangle",n.frequency.setValueAtTime(i,t+s*.15),a.gain.setValueAtTime(.3,t+s*.15),a.gain.exponentialRampToValueAtTime(.01,t+s*.15+.3),n.start(t+s*.15),n.stop(t+s*.15+.3)})}playGameOver(t){const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.sfxGain),e.type="sine",e.frequency.setValueAtTime(400,t),e.frequency.exponentialRampToValueAtTime(100,t+.8),i.gain.setValueAtTime(.3,t),i.gain.setValueAtTime(.3,t+.7),i.gain.exponentialRampToValueAtTime(.01,t+.8),e.start(t),e.stop(t+.8)}setVolume(t){this.volume=t,this.masterGain&&!this.isMuted&&(this.masterGain.gain.value=t),this.saveSettings()}toggleMute(){return this.isMuted=!this.isMuted,this.masterGain&&(this.masterGain.gain.value=this.isMuted?0:this.volume),this.saveSettings(),this.isMuted}saveSettings(){localStorage.setItem("gameAudioSettings",JSON.stringify({volume:this.volume,isMuted:this.isMuted}))}loadSettings(){try{const t=JSON.parse(localStorage.getItem("gameAudioSettings"));t&&(this.volume=t.volume??.7,this.isMuted=t.isMuted??!1)}catch{}}}class B{constructor(){this.physics=new S("world"),this.ui=new T,this.audio=new L,this.score=0,this.level=1,this.nextCircleLevel=0,this.currentCircle=null,this.canDrop=!0,this.isGameOver=!1,this.isMissionComplete=!1,this.activeItem=null,this.activeVibrations=[],this.itemInventory={remove:3,upgrade:3,vibration:3},this.setupInput(),this.setupUI(),this.setupCollision(),this.setupGameLoop(),this.spawnNextCircle(),this.ui.updateScore(this.score,this.level),this.ui.updateAllItemCounts(this.itemInventory)}setupUI(){this.ui.setupItemListeners(t=>{this.activeItem===t?(this.activeItem=null,this.ui.toggleItemActive(t,!1)):(this.activeItem=t,this.ui.toggleItemActive(t,!0))})}setupInput(){const t=document.getElementById("game-container");t.addEventListener("mousemove",e=>{this.currentCircle&&this.canDrop&&!this.isGameOver&&!this.isMissionComplete&&!this.activeItem&&this.updateCurrentCirclePosition(e.clientX)}),t.addEventListener("click",e=>{this.audio.isInitialized||this.audio.init(),!(this.isGameOver||this.isMissionComplete)&&(this.activeItem?this.handleItemClick(e):this.currentCircle&&this.canDrop&&(this.updateCurrentCirclePosition(e.clientX),this.dropCircle()))})}handleItemClick(t){if(this.itemInventory[this.activeItem]<=0){this.ui.toggleItemActive(this.activeItem,!1),this.activeItem=null;return}const e=document.getElementById("game-container").getBoundingClientRect(),i=t.clientX-e.left,s=t.clientY-e.top,a=Matter.Query.point(Matter.Composite.allBodies(this.physics.world),{x:i,y:s}).find(c=>c.label==="circle"&&!c.isStatic&&!c.isSensor);a&&(this.applyItem(a),this.itemInventory[this.activeItem]--,this.ui.updateItemCount(this.activeItem,this.itemInventory[this.activeItem]),this.ui.toggleItemActive(this.activeItem,!1),this.audio.play("itemUse"),this.activeItem=null)}applyItem(t){switch(this.activeItem){case"remove":this.physics.removeBody(t),this.ui.spawnItemEffect(t.position.x,t.position.y,"remove");break;case"upgrade":if(t.gameData.level<d.length-1){const e=t.gameData.level+1,{x:i,y:s}=t.position;this.physics.removeBody(t);const n=y.create(i,s,e);this.applyLevelPhysics(n),this.physics.addBody(n),this.ui.spawnItemEffect(i,s,"upgrade")}break;case"vibration":this.applyVibration(t),this.ui.spawnItemEffect(t.position.x,t.position.y,"vibration");break}}applyVibration(t){this.activeVibrations.push({body:t,startTime:Date.now(),duration:3e3})}createParticles(t,e,i){this.ui.spawnMergeEffect(t,e,0)}updateCurrentCirclePosition(t){const e=document.getElementById("game-container"),i=e.getBoundingClientRect();let s=t-i.left;const n=this.currentCircle.circleRadius,a=e.clientWidth;s=Math.max(n+m/2,Math.min(s,a-n-m/2)),Matter.Body.setPosition(this.currentCircle,{x:s,y:50})}spawnNextCircle(){if(this.isGameOver||this.isMissionComplete)return;const t=this.nextCircleLevel,i=document.getElementById("game-container").clientWidth;this.currentCircle=y.create(i/2,50,t),this.currentCircle.isSensor=!0,this.currentCircle.isStatic=!0,this.physics.addBody(this.currentCircle),this.nextCircleLevel=Math.floor(Math.random()*3),this.ui.updateNextCircle(this.nextCircleLevel),this.canDrop=!0}dropCircle(){this.canDrop=!1,this.currentCircle.isSensor=!1,this.currentCircle.isStatic=!1,this.applyLevelPhysics(this.currentCircle),Matter.Body.setVelocity(this.currentCircle,{x:0,y:5}),this.currentCircle=null,this.audio.play("drop"),setTimeout(()=>{this.spawnNextCircle()},M)}applyLevelPhysics(t){const e=this.level-1;t.restitution=Math.min(1.2,p.RESTITUTION+e*f.RESTITUTION_PER_LEVEL),t.friction=Math.max(0,p.FRICTION+e*f.FRICTION_PER_LEVEL)}setupCollision(){Matter.Events.on(this.physics.engine,"collisionStart",t=>{const e=t.pairs;for(let i=0;i<e.length;i++){const s=e[i].bodyA,n=e[i].bodyB;s.gameData&&n.gameData&&this.handleMerge(s,n)}})}handleMerge(t,e){if(t.gameData.level===e.gameData.level&&!t.gameData.hasMerged&&!e.gameData.hasMerged){t.gameData.hasMerged=!0,e.gameData.hasMerged=!0;const i=t.gameData.level+1,s=(t.position.x+e.position.x)/2,n=(t.position.y+e.position.y)/2;if(this.physics.removeBody(t),this.physics.removeBody(e),this.addScore(d[t.gameData.level].score*2),this.ui.spawnMergeEffect(s,n,d[t.gameData.level].score*2),this.audio.play("merge"),this.applyExplosion(s,n,d[t.gameData.level].radius,!1),i<d.length){const a=y.create(s,n,i);this.applyLevelPhysics(a),this.physics.addBody(a)}else this.addScore(d[t.gameData.level].score*4)}}applyExplosion(t,e,i,s=!1){const n=Matter.Composite.allBodies(this.physics.world),a=this.level-1,c=E;let r;s?r=.5:r=(c+a*f.EXPLOSION_PER_LEVEL)*(i/20),n.forEach(o=>{if(o.isStatic)return;const u={x:o.position.x-t,y:o.position.y-e},g=Math.sqrt(u.x*u.x+u.y*u.y);if(g<(s?400:300)&&g>0){const x={x:u.x/g*r*o.mass,y:u.y/g*r*o.mass};Matter.Body.applyForce(o,o.position,x)}})}addScore(t){this.score+=t,this.ui.updateScore(this.score,this.level),this.audio.play("score");const e=C[this.level];this.score>=e&&!this.isMissionComplete&&this.missionComplete()}missionComplete(){this.isMissionComplete=!0;const t=this.rewardRandomItem();this.ui.spawnLevelCompleteEffect(),this.audio.play("levelComplete"),this.ui.showMissionComplete(this.level,this.score,t,()=>{this.nextLevel()})}rewardRandomItem(){const t=["remove","upgrade","vibration"],e=t[Math.floor(Math.random()*t.length)];return this.itemInventory[e]++,this.ui.updateItemCount(e,this.itemInventory[e]),e}nextLevel(){this.level++,this.ui.updateLevel(this.level),this.ui.updateScore(this.score,this.level),this.isMissionComplete=!1,this.isGameOver=!1,this.currentCircle&&(this.physics.removeBody(this.currentCircle),this.currentCircle=null),this.canDrop=!1,setTimeout(()=>{this.isGameOver||this.spawnNextCircle()},1e3)}setupGameLoop(){Matter.Events.on(this.physics.engine,"afterUpdate",()=>{if(this.isGameOver)return;const t=Matter.Composite.allBodies(this.physics.world),e=Date.now();this.activeVibrations=this.activeVibrations.filter(i=>e-i.startTime>i.duration?(i.body&&i.body.isStatic&&Matter.Body.setStatic(i.body,!1),!1):(i.body&&!i.body.isStatic&&Matter.Body.setStatic(i.body,!0),i.body&&Matter.Body.setAngularVelocity(i.body,.15),t.forEach(s=>{if(s.isStatic||s.isSensor||s===i.body)return;const n=s.position.x-i.body.position.x,a=s.position.y-i.body.position.y;if(Math.sqrt(n*n+a*a)<250){const r=.003*s.mass;Matter.Body.applyForce(s,s.position,{x:(Math.random()-.5)*r,y:(Math.random()-.5)*r})}}),!0));for(const i of t)if(!(i.isStatic||i.isSensor)&&i.position.y<I&&i.speed<.5){this.gameOver();break}})}gameOver(){this.isGameOver=!0,this.isMissionComplete=!1,this.audio.play("gameOver"),this.ui.showResult(this.score,!1)}}function v(){document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)}window.addEventListener("resize",v);window.addEventListener("orientationchange",v);v();window.addEventListener("DOMContentLoaded",()=>{const h=new B,t=document.getElementById("mute-btn"),e=document.getElementById("volume-slider");t.addEventListener("click",()=>{const i=h.audio.toggleMute();t.textContent=i?"üîá":"üîä"}),e.addEventListener("input",i=>{h.audio.setVolume(i.target.value/100)}),h.audio.isMuted&&(t.textContent="üîá")});
